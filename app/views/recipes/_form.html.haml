#recipes-form
  = form_for @recipe, html: {class: 'form-horizontal'} do |f|
    - if @recipe.errors.any?
      %ul
        - @recipe.errors.full_messages.each do |msg|
          %li= msg
    .form-group
      = f.label :name, class: 'col-sm-2 control-label'
      .col-sm-10
        = f.text_field :name, class: 'form-control'
    .form-group
      = f.label :description, class: 'col-sm-2 control-label'
      .col-sm-10
        = f.text_area :description, class: 'form-control', rows: 5
    #categories-group.form-group
      = f.label :categories, 'Category', class: 'col-sm-2 control-label'
      = f.hidden_field :category_ids, multiple: true
      = render partial: 'categories/select',
               locals: { parent_chain_with_siblings: @recipe.categories.first.parent_chain_with_siblings }

    #categories-group-0.form-group
      = f.label :categories, 'Category', class: 'col-sm-2 control-label'
      = f.hidden_field :category_ids, multiple: true
      = render partial: 'categories/select',
               locals: { categories: @categories }
    #categories-group-1.form-group
      = f.label :categories, 'Second', class: 'col-sm-2 control-label'
      = f.hidden_field :category_ids, multiple: true
      = render partial: 'categories/select',
               locals: { categories: @categories }
    #categories-group-2.form-group
      = f.label :categories, 'Third', class: 'col-sm-2 control-label'
      = f.hidden_field :category_ids, multiple: true
      = render partial: 'categories/select',
               locals: { categories: @categories }
    .form-group
      = f.label :image, class: 'col-sm-2 control-label'
      .col-sm-10
        = f.file_field :image, class: 'form-control'
    .form-group
      .col-sm-offset-1.col-sm-11
        = f.button :submit, class: 'btn btn-primary' do
          %i.fa.fa-floppy-o
          Save
